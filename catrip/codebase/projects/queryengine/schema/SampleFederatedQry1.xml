<?xml version="1.0" encoding="UTF-8"?>
<FederatedQueryPlan xmlns="http://nci.nih.gov/cagrid/DCQL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://nci.nih.gov/cagrid/DCQL
C:\Development\FederatedQueryEngine\schema1\DCQL_schema_modified.xsd">
	<TargetObject name="gov.nih.nci.ctom.domain.Patricipant">
		
		<Group logicRelation="AND">		
				<Group logicRelation="AND">
					<Attribute value="50" name="age" predicate="GREATER_THAN"></Attribute>
					<Attribute value="60" name="age" predicate="LESS_THAN"></Attribute>
				</Group>	
				<Group logicRelation="AND">

							
							<ForeignAssociation serviceURL="http://ctom">							
							<JoinCondition>
								<LeftJoin>
									<Object>gov.nih.nci.ctom.domain.Patricipant</Object>
									<Attribute>participantIdentifier</Attribute>
								</LeftJoin>
								<RightJoin>
									<Object>edu.pitt.cabig.cae.domain.general.Participant</Object>
									<Attribute>uniquePatientIdentifier</Attribute>
								</RightJoin>
							</JoinCondition>
							
							<ForeignObject name="edu.pitt.cabig.cae.domain.general.Patricipant" >	
									<Group logicRelation="AND">
										<Attribute value="AS%" name="middleName" predicate="LIKE"></Attribute>
										<Association roleName="annotationEventParameters">									
											<Object name="edu.pitt.cabig.cae.domain.general.AnnotationEventParameters">
												<Association roleName="annotationSetCollection">
													<Object name="edu.pitt.cabig.cae.domain.breast.NottinghamHistopathologicGrade">												
														<Group logicRelation="OR">
															<Attribute value="100" name="nuclearPleomorphism" predicate="EQUAL_TO"></Attribute>					
															<Group logicRelation="AND">
																<Attribute value="100" name="totalScore" predicate="GREATER_THAN"></Attribute>
																<Attribute value="60" name="mitoticCount" predicate="LESS_THAN"></Attribute>												
															</Group>	
														</Group>										
													</Object>										
												</Association>
											</Object>
										</Association>	
									</Group>																	
							</ForeignObject>						
						</ForeignAssociation>	

<!-- SERVICE # 2 -->
							<ForeignAssociation serviceURL="http://caTissue">
								<JoinCondition>
									<LeftJoin>
										<Object>gov.nih.nci.ctom.domain.Patricipant</Object>
										<Attribute>participantIdentifier</Attribute>
									</LeftJoin>
									<RightJoin>
										<Object>edu.pitt.cabig.catissue.Participant</Object>
										<Attribute>pi</Attribute>
									</RightJoin>
								</JoinCondition>
								<ForeignObject name="edu.pitt.cabig.catissue.Participant">
									<Attribute value="100" name="count" predicate="LESS_THAN"></Attribute>
								</ForeignObject>
							</ForeignAssociation>
				</Group>
		</Group>
	<!--
		<Association roleName="annotatableEntity">									
				<Object name="edu.pitt.cabig.cae.domain.general.AnnotationEventParameters">
					<Association roleName="annotationEventParameters">											
						<Object name="edu.pitt.cabig.cae.domain.breast.NottinghamHistopathologicGrade">			
								
								<Attribute value="100" name="totalScore" predicate="GREATER_THAN"></Attribute>
						</Object>
					</Association>
					
				</Object>
			</Association>					
-	
	<ForeignAssociation roleName="participantScore">
					    		
									<JoinCondition>
										<LeftJoin>
											<Object></Object>
											<Attribute></Attribute>
										</LeftJoin>
										<RightJoin>
											<Object></Object>
											<Attribute></Attribute>
										</RightJoin>
									</JoinCondition>
									
									<ForeignObject name="edu.pitt.cabig.cae.domain.general.Patricipant" >																	
											<Association roleName="annotatableEntity">																			
												<Object name="edu.pitt.cabig.cae.domain.general.AnnotationEventParameters">
													<Association roleName="annotationEventParameters">
														<Object name="edu.pitt.cabig.cae.domain.breast.NottinghamHistopathologicGrade">												
															<Attribute value="100" name="totalScore" predicate="GREATER_THAN"></Attribute>
														</Object>
													</Association>
												</Object>
											</Association>																		
									</ForeignObject>						
	</ForeignAssociation>	
	
		<Group logicRelation="AND">		
				<Attribute value="50" name="age" predicate="GREATER_THAN"></Attribute>
				<Attribute value="60" name="age" predicate="LESS_THAN"></Attribute>
				
				<Association roleName="caeParticipant">	
					
					<Object name="edu.pitt.cabig.cae.domain.general.Patricipant">
								
					    		<ForeignAssociation roleName="participantScore">
					    		
									<JoinCondition>
										<LeftJoin>
											<Object></Object>
											<Attribute></Attribute>
										</LeftJoin>
										<RightJoin>
											<Object></Object>
											<Attribute></Attribute>
										</RightJoin>
									</JoinCondition>
									
									<ForeignObject name="edu.pitt.cabig.cae.domain.general.Patricipant" >																	
											<Association roleName="annotatableEntity">									
												<Object name="edu.pitt.cabig.cae.domain.general.AnnotationEventParameters">
													<Association roleName="annotationEventParameters">
														<Object name="edu.pitt.cabig.cae.domain.breast.NottinghamHistopathologicGrade">												
															<Attribute value="100" name="totalScore" predicate="GREATER_THAN"></Attribute>
														</Object>
													</Association>
												</Object>
											</Association>																		
									</ForeignObject>						
								</ForeignAssociation>	
					</Object>
				</Association>
		</Group>
		-->
		
						
	</TargetObject>
</FederatedQueryPlan>
